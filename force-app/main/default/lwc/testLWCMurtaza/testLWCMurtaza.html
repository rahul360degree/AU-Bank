<template>
    <template if:false={showDynamicComponent}>
        <div class="select-details">
            <div class="details-title">Select a few details</div>
            <template for:each={fields} for:item="field">
                <div key={field.name} data-name={field.label} class={field.containerClass} onclick={handleFieldClick}>
                    <div class="field-content">
                        <span class="field-label">{field.label}
                            <template if:true={field.selectedValue}>
                                <div class="selected-value">
                                    {field.selectedValue}
                                </div>
                            </template>
                        </span>

                        <lightning-button-icon icon-name="utility:down" alternative-text="Dropdown" variant="bare"
                            class="dropdown-icon" disabled={field.disabled>
                        </lightning-button-icon>
                    </div>

                </div>
            </template>
        </div>
    </template>

    <template if:true={showDynamicComponent}>
        <c-test-child-l-w-c field-name={selectedField} options={dynamicOptions} onclose={handleClose}
            onoptionselect={handleOptionSelect} has-search={hasSearch}
            search-placeholder={searchPlaceholder}></c-test-child-l-w-c>
    </template>
</template>